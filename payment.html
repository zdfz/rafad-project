<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clothing Store Payment Form">
    <title data-en="Payment - Rifad Store" data-ar="Ø§Ù„Ø¯ÙØ¹ - Ù…ØªØ¬Ø± Ø±ÙØ§Ø¯">Payment - Rifad Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Embedded CSS */
        :root {
            --background-color-light: #f4f4f4;
            --text-color-light: #333;
            --container-background-light: #ffffff;
            --border-color-light: #ccc;
            --input-background-light: #eee;
            --input-text-light: #333;
            --accent-color-light: #007bff;
            --shadow-color-light: rgba(0, 0, 0, 0.1);
            --button-background-light: #007bff;
            --button-text-light: #fff;

            --background-color-dark: #1a2b3c;
            --text-color-dark: #ffffff;
            --container-background-dark: #2a3b4c;
            --border-color-dark: #0a192f;
            --input-background-dark: #0a192f;
            --input-text-dark: #e6f1ff;
            --accent-color-dark: #64ffda;
            --shadow-color-dark: rgba(0, 0, 0, 0.5);
            --button-background-dark: #64ffda;
            --button-text-dark: #0a192f;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--background-color-light);
            color: var(--text-color-light);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body.dark-mode {
            background-color: var(--background-color-dark);
            color: var(--text-color-dark);
        }

        .payment-container {
            background-color: var(--container-background-light);
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 0 20px var(--shadow-color-light);
            display: flex;
            flex-direction: column;
            gap: 20px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        body.dark-mode .payment-container {
            background-color: var(--container-background-dark);
            box-shadow: 0 0 20px var(--shadow-color-dark);
        }

        .logo {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .logo img {
            max-width: 80px;
            height: auto;
        }

        h2 {
            text-align: center;
            color: var(--accent-color-light);
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }

        body.dark-mode h2 {
            color: var(--accent-color-dark);
        }

        .form-group {
            margin-bottom: 15px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--text-color-light);
            position: relative;
            padding-left: 30px;
            line-height: 1.5;
            transition: color 0.3s ease;
        }

         body.dark-mode .form-group label {
             color: var(--text-color-dark);
         }

        .form-group label i {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-color-light);
            font-size: 1.1em;
            transition: color 0.3s ease;
        }

         body.dark-mode .form-group label i {
             color: var(--accent-color-dark);
         }

        [dir="rtl"] .form-group label {
            padding-left: 0;
            padding-right: 30px;
        }

        [dir="rtl"] .form-group label i {
            left: auto;
            right: 0;
        }

        .form-group input[type="text"],
        .form-group input[type="tel"],
        .form-group input[type="email"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            padding-left: 10px; /* Reset LTR padding */
            padding-right: 10px; /* Reset RTL padding */
            border: 1px solid var(--border-color-light);
            border-radius: 5px;
            background-color: var(--input-background-light);
            color: var(--input-text-light);
            font-size: 1em;
            box-sizing: border-box;
            transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease;
        }

        body.dark-mode .form-group input[type="text"],
        body.dark-mode .form-group input[type="tel"],
        body.dark-mode .form-group input[type="email"],
        body.dark-mode .form-group textarea,
        body.dark-mode .form-group select {
            border: 1px solid var(--border-color-dark);
            background-color: var(--input-background-dark);
            color: var(--input-text-dark);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

         .product-summary {
             display: flex;
             gap: 20px;
             align-items: center;
             margin-bottom: 20px;
             padding-bottom: 20px;
             border-bottom: 1px solid var(--border-color-light);
             transition: border-color 0.3s ease;
         }

         body.dark-mode .product-summary {
             border-bottom: 1px solid var(--border-color-dark);
         }

         .product-summary img {
             max-width: 80px;
             height: auto;
             border-radius: 5px;
         }

         .product-details {
             flex-grow: 1;
         }

         .product-details h3 {
             margin: 0 0 5px 0;
             color: var(--text-color-light);
             transition: color 0.3s ease;
         }

          body.dark-mode .product-details h3 {
              color: var(--text-color-dark);
          }

         .product-details p {
             margin: 0;
             font-size: 0.9em;
             color: #666;
              transition: color 0.3s ease;
         }
         body.dark-mode .product-details p {
             color: #aaa;
         }

         [dir="rtl"] .product-summary {
             flex-direction: row-reverse;
         }

         [dir="rtl"] .product-details h3,
         [dir="rtl"] .product-details p {
             text-align: right;
         }

        .payment-methods {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color-light);
            transition: border-color 0.3s ease;
        }

         body.dark-mode .payment-methods {
              border-top: 1px solid var(--border-color-dark);
         }

        .payment-methods h3 {
            margin-top: 0;
            margin-bottom: 15px;
            text-align: center;
            color: var(--accent-color-light);
            transition: color 0.3s ease;
        }
         body.dark-mode .payment-methods h3 {
             color: var(--accent-color-dark);
         }

        .payment-method {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 10px;
            border: 1px solid var(--border-color-light);
            border-radius: 5px;
            transition: border-color 0.3s ease, background-color 0.3s ease;
        }

        body.dark-mode .payment-method {
            border: 1px solid var(--border-color-dark);
        }

        .payment-method:hover {
             background-color: #f0f0f0;
        }
        body.dark-mode .payment-method:hover {
            background-color: #3a4b5c;
        }

        .payment-method.selected {
            border-color: var(--accent-color-light);
        }
         body.dark-mode .payment-method.selected {
             border-color: var(--accent-color-dark);
         }

        .payment-icon {
            width: 40px;
            height: auto;
            margin-right: 15px;
        }
         [dir="rtl"] .payment-icon {
              margin-right: 0;
              margin-left: 15px;
         }

        .payment-method span {
            font-weight: bold;
            color: var(--text-color-light);
            transition: color 0.3s ease;
        }
         body.dark-mode .payment-method span {
             color: var(--text-color-dark);
         }

        .total-cost {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color-light);
            font-size: 1.2em;
            font-weight: bold;
            color: var(--accent-color-light);
            text-align: right;
            transition: border-color 0.3s ease, color 0.3s ease;
        }

         body.dark-mode .total-cost {
             border-top: 1px solid var(--border-color-dark);
             color: var(--accent-color-dark);
         }

        [dir="rtl"] .total-cost {
            text-align: left;
        }

        .pay-button {
            display: block;
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 5px;
            background-color: var(--button-background-light);
            color: var(--button-text-light);
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
             margin-top: 20px;
        }

        body.dark-mode .pay-button {
            background-color: var(--button-background-dark);
            color: var(--button-text-dark);
        }

        .pay-button:hover {
            opacity: 0.9;
        }

        .language-toggle, .theme-toggle {
            position: absolute;
            top: 20px;
            background-color: var(--container-background-light);
            color: var(--text-color-light);
            border: 1px solid var(--border-color-light);
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            z-index: 10;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        body.dark-mode .language-toggle, body.dark-mode .theme-toggle {
            background-color: var(--container-background-dark);
            color: var(--text-color-dark);
            border: 1px solid var(--border-color-dark);
        }

        .language-toggle {
             right: 20px;
        }

        .theme-toggle {
            right: 100px; /* Adjust position relative to language toggle */
        }

        [dir="rtl"] .language-toggle {
             right: auto;
             left: 20px;
        }

         [dir="rtl"] .theme-toggle {
             right: auto;
             left: 100px; /* Adjust position for RTL */
         }

        /* Language specific classes */
        .en, .ar {
            display: none;
        }
        html[lang="en"] .en {
            display: inline;
        }
        html[lang="ar"] .ar {
            display: inline;
        }

        /* Success Message */
        .success-message {
             display: none; /* Hidden by default */
             text-align: center;
             padding: 30px;
             border-radius: 10px;
             background-color: #d4edda;
             color: #155724;
             border: 1px solid #c3e6cb;
             margin-top: 20px;
        }

        body.dark-mode .success-message {
            background-color: #1a3632;
            color: #64ffda;
            border-color: #3a5a52;
        }

        .success-message h2 {
            color: #155724;
            margin-top: 0;
        }

        body.dark-mode .success-message h2 {
             color: #64ffda;
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .payment-container {
                padding: 20px;
            }
            body {
                padding: 10px;
            }
             .language-toggle, .theme-toggle {
                 top: 10px;
                 padding: 6px 10px;
             }
            .language-toggle {
                 right: 10px;
            }
            .theme-toggle {
                 right: 80px;
            }
             [dir="rtl"] .language-toggle {
                 left: 10px;
                 right: auto;
             }
              [dir="rtl"] .theme-toggle {
                 left: 80px;
                 right: auto;
             }
        }
    </style>
</head>
<body class="light-mode">

    <div class="payment-container">
        <div class="logo">
            <img src="images/logo.png" alt="Rifad Project Logo">
        </div>
         <h2>
             <span class="en">Payment Information</span>
             <span class="ar">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹</span>
         </h2>

         <div class="product-summary">
             <img src="images/rifad.png" alt="Rifad Bag">
             <div class="product-details">
                 <h3 data-product-name></h3>
                 <p data-product-description><span class="en">A durable bag available in different materials.</span><span class="ar">Ø­Ù‚ÙŠØ¨Ø© Ù…ØªÙŠÙ†Ø© Ù…ØªÙˆÙØ±Ø© Ø¨Ø®Ø§Ù…Ø§Øª Ù…Ø®ØªÙ„ÙØ©.</span></p>
             </div>
         </div>

        <form id="paymentForm" novalidate>
             <div class="form-group">
                <label for="name"><i class="fas fa-user"></i> <span class="en">Full Name</span><span class="ar">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</span>:</label>
                <input type="text" id="name" required>
            </div>
            <div class="form-group">
                <label for="phone"><i class="fas fa-phone"></i> <span class="en">Phone Number</span><span class="ar">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</span>:</label>
                <input type="tel" id="phone" required pattern="[0-9]{10,}">
            </div>
            <div class="form-group">
                <label for="email"><i class="fas fa-envelope"></i> <span class="en">Email Address</span><span class="ar">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>:</label>
                <input type="email" id="email" required>
            </div>
             <div class="form-group">
                <label for="address"><i class="fas fa-map-marker-alt"></i> <span class="en">Address</span><span class="ar">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</span>:</label>
                <textarea id="address" required></textarea>
            </div>

             <div class="payment-methods">
                 <h3><span class="en">Select Payment Method</span><span class="ar">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</span></h3>
                 <div class="payment-method" data-method="visa">
                     <img src="images/visa.png" alt="Visa" class="payment-icon">
                     <span class="en">Visa</span><span class="ar">ÙÙŠØ²Ø§</span>
                 </div>
                  <div class="payment-method" data-method="mastercard">
                     <img src="images/mastercard.png" alt="MasterCard" class="payment-icon">
                     <span class="en">MasterCard</span><span class="ar">Ù…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯</span>
                 </div>
                  <div class="payment-method" data-method="mada">
                     <img src="images/mada.png" alt="Mada" class="payment-icon">
                     <span class="en">Mada</span><span class="ar">Ù…Ø¯Ù‰</span>
                 </div>
                  <!-- Add more payment methods as needed -->
             </div>

            <div class="total-cost">
                <span class="total-label"><span class="en">Total Cost</span><span class="ar">Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</span></span>: <span id="totalAmount"></span>
            </div>

            <button type="submit" class="pay-button" aria-label="Proceed to Payment">
                <span class="en">Proceed to Payment</span>
                <span class="ar">Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ø¯ÙØ¹</span>
            </button>
        </form>

         <div id="successMessage" class="success-message">
             <h2 class="success-title"><span class="en">Payment Successful!</span><span class="ar">ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­!</span></h2>
             <p><span class="en">Thank you for your purchase. Your order has been placed.</span><span class="ar">Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ù…Ø´ØªØ±ÙŠØ§ØªÙƒ. ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­.</span></p>
         </div>

    </div>

    <button class="language-toggle" id="language-toggle" aria-label="Toggle language">
        <span class="en">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
        <span class="ar">English</span>
    </button>

     <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
         <span class="light-icon">â˜€ï¸</span>
         <span class="dark-icon">ğŸŒ™</span>
     </button>

    <script>
        // Embedded JavaScript

        // Product prices and names based on type
        const PRODUCT_INFO = {
            cotton: {
                name: { en: "Cotton Ihram", ar: "Ø¥Ø­Ø±Ø§Ù… Ù‚Ø·Ù†" },
                price: 60
            },
            mixed: {
                name: { en: "Mixed Material Ihram", ar: "Ø¥Ø­Ø±Ø§Ù… Ù‚Ù…Ø§Ø´ Ù…Ø®Ù„ÙˆØ·" },
                price: 45
            },
            polyester: {
                name: { en: "Polyester Ihram", ar: "Ø¥Ø­Ø±Ø§Ù… Ø¨ÙˆÙ„ÙŠØ³ØªØ±" },
                price: 30
            }
        };

        let selectedProductType = 'cotton'; // Default or determined from URL

        // Function to update text content based on current language
        function updateTextContent() {
            const lang = document.documentElement.lang;

            // Toggle visibility of language-specific spans
            document.querySelectorAll('.en, .ar').forEach(el => {
                if (el.classList.contains(lang)) {
                    el.style.display = ''; // Or 'inline', 'block', etc.
                } else {
                    el.style.display = 'none';
                }
            });

             // Update placeholder texts for inputs and textarea
             document.querySelectorAll('#paymentForm input, #paymentForm textarea').forEach(input => {
                 const enPlaceholder = {
                     'name': 'Enter your name',
                     'phone': 'Enter your phone number',
                     'email': 'Enter your email',
                     'address': 'Enter your address'
                 };
                 const arPlaceholder = {
                     'name': 'Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ',
                     'phone': 'Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ',
                     'email': 'Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
                     'address': 'Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù†Ùƒ'
                 };
                 const placeholderText = lang === 'en' ? enPlaceholder[input.id] : arPlaceholder[input.id];
                 if (placeholderText) {
                      input.placeholder = placeholderText;
                 }
             });

            updateProductDetails(); // Update product name and total cost
             updatePaymentMethodText(); // Update payment method text
        }

         // Function to update the displayed product details and total cost
         function updateProductDetails() {
             const productInfo = PRODUCT_INFO[selectedProductType];
             const productNameElement = document.querySelector('.product-details h3[data-product-name]');
             const totalAmountSpan = document.getElementById('totalAmount');
             const lang = document.documentElement.lang;

             if (productInfo) {
                 // Update product name
                 productNameElement.textContent = productInfo.name[lang] || productInfo.name.en; // Fallback to English

                 // Update total cost
                 const price = productInfo.price;
                 const shippingCost = 20; // Fixed shipping cost in SAR
                 const vatRate = 0.15; // 15% VAT rate
                 const vatAmount = price * vatRate;
                 const total = price + shippingCost + vatAmount;

                  if (lang === 'en') {
                      totalAmountSpan.textContent = `SAR ${total.toFixed(2)}`;
                   } else { // ar
                      totalAmountSpan.textContent = `${total.toFixed(2)} Ø±ÙŠØ§Ù„`;
                   }
             } else {
                 // Handle case where product type is not found
                 productNameElement.textContent = lang === 'en' ? 'Product Not Found' : 'Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯';
                 totalAmountSpan.textContent = '';
             }
         }

        // Function to update payment method text
        function updatePaymentMethodText() {
            const lang = document.documentElement.lang;
            document.querySelectorAll('.payment-method').forEach(methodEl => {
                methodEl.querySelectorAll('.en, .ar').forEach(span => {
                    if (span.classList.contains(lang)) {
                        span.style.display = '';
                    } else {
                        span.style.display = 'none';
                    }
                });
            });
        }

        // Language toggle functionality
        document.getElementById('language-toggle').addEventListener('click', function() {
            const html = document.documentElement;
            const currentLang = html.lang;
            const newLang = currentLang === 'en' ? 'ar' : 'en';
            const newDir = newLang === 'ar' ? 'rtl' : 'ltr';

            html.lang = newLang;
            html.dir = newDir;

            updateTextContent(); // Update all text after changing language
        });

         // Theme toggle functionality
         document.getElementById('theme-toggle').addEventListener('click', function() {
             const body = document.body;
             body.classList.toggle('dark-mode');
             // Optionally save theme preference to localStorage
             const currentTheme = body.classList.contains('dark-mode') ? 'dark' : 'light';
             localStorage.setItem('theme', currentTheme);
         });

        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(methodEl => {
            methodEl.addEventListener('click', function() {
                // Remove 'selected' class from all payment methods
                document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
                // Add 'selected' class to the clicked payment method
                this.classList.add('selected');
            });
        });

        // Form submission and success message
        document.getElementById('paymentForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent actual form submission

            const form = event.target;

            // Basic form validation
            if (!form.checkValidity()) {
                // If form is invalid, the browser will show default validation messages
                return;
            }

            // Check if a payment method is selected
            if (!document.querySelector('.payment-method.selected')) {
                alert(document.documentElement.lang === 'en' ? 'Please select a payment method.' : 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹.');
                return;
            }

            // Simulate payment processing (replace with actual payment gateway integration)
            console.log('Processing payment...');

            // Hide the form and show the success message
            form.style.display = 'none';
            document.getElementById('successMessage').style.display = 'block';

             // Hide product summary and payment methods after success
             document.querySelector('.product-summary').style.display = 'none';
             document.querySelector('.payment-methods').style.display = 'none';
             document.querySelector('.total-cost').style.display = 'none';

             // Optionally, redirect or provide further actions after a delay
             // setTimeout(() => { /* redirect or clear form */ }, 5000);
        });

        // Initial setup on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial language and direction
            const initialLang = document.documentElement.lang || 'en'; // Default to English
            document.documentElement.dir = initialLang === 'ar' ? 'rtl' : 'ltr';

            // Get product type from URL
            const urlParams = new URLSearchParams(window.location.search);
            const type = urlParams.get('type');
            if (type && PRODUCT_INFO[type]) {
                selectedProductType = type;
            } else {
                 // Default or handle error if type is not valid
                 selectedProductType = 'cotton'; // Fallback
                 console.warn('Invalid or missing product type in URL, defaulting to cotton.');
            }

            // Apply initial language texts and placeholders, which also updates product details
            updateTextContent();

            // Set initial dark mode based on localStorage or system preference
             const savedTheme = localStorage.getItem('theme');
             if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                 document.body.classList.add('dark-mode');
             } else {
                 document.body.classList.remove('dark-mode');
             }

             // Update placeholders initially
             document.querySelectorAll('#paymentForm input, #paymentForm textarea').forEach(input => {
                 const enPlaceholder = {
                     'name': 'Enter your name',
                     'phone': 'Enter your phone number',
                     'email': 'Enter your email',
                     'address': 'Enter your address'
                 };
                 const arPlaceholder = {
                     'name': 'Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ',
                     'phone': 'Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ',
                     'email': 'Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
                     'address': 'Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù†Ùƒ'
                 };
                 const placeholderText = initialLang === 'en' ? enPlaceholder[input.id] : arPlaceholder[input.id];
                  if (placeholderText) {
                       input.placeholder = placeholderText;
                  }
             });

             // Select the first payment method by default (optional)
             const firstPaymentMethod = document.querySelector('.payment-method');
             if(firstPaymentMethod) {
                 firstPaymentMethod.classList.add('selected');
             }
        });

    </script>

</body>
</html>
